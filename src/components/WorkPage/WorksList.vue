<template>
    <section>
        <nav>
            <button class="work__btn" :disabled="currentActiveEl === 'construction'"
                @click="this.currentActiveEl = 'construction'">
                <svg width="48" height="46" viewBox="0 0 48 46" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M46.5938 24.4062C47.3704 24.4062 48 23.7766 48 23V12.5C48 11.7234 47.3704 11.0938 46.5938 11.0938C45.6135 11.0938 26.4628 11.0938 25.4062 11.0938V2C25.4062 1.22337 24.7766 0.59375 24 0.59375H9C8.22338 0.59375 7.59375 1.22337 7.59375 2V11.0938H1.40625C0.629625 11.0938 0 11.7234 0 12.5V23C0 23.7766 0.629625 24.4062 1.40625 24.4062H7.59375V32.0938H1.40625C0.629625 32.0938 0 32.7234 0 33.5V44C0 44.7766 0.629625 45.4062 1.40625 45.4062H46.5938C47.3704 45.4062 48 44.7766 48 44V33.5C48 32.7234 47.3704 32.0938 46.5938 32.0938H40.4062V24.4062H46.5938ZM45.1875 21.5938C43.683 21.5938 34.3936 21.5938 32.9062 21.5938V13.9062H45.1875V21.5938ZM30.0938 21.5938C28.6208 21.5938 19.3889 21.5938 17.9062 21.5938V13.9062H30.0938V21.5938ZM10.4062 3.40625H22.5938V11.0938C21.1208 11.0938 11.8889 11.0938 10.4062 11.0938V3.40625ZM2.8125 21.5938V13.9062H15.0938V21.5938C13.6058 21.5938 4.31672 21.5938 2.8125 21.5938ZM10.4062 24.4062H22.5938V32.0938C21.1208 32.0938 11.8889 32.0938 10.4062 32.0938V24.4062ZM2.8125 34.9062H15.0938V42.5938H2.8125V34.9062ZM17.9062 34.9062H30.0938V42.5938H17.9062V34.9062ZM45.1875 34.9062V42.5938H32.9062V34.9062H45.1875ZM37.5938 32.0938C36.1208 32.0938 26.8889 32.0938 25.4062 32.0938V24.4062H37.5938V32.0938Z"
                        :fill="`${currentActiveEl === 'construction' ? 'white' : '#FF5A30'}`" />
                </svg>
                <p>Construction</p>
            </button>
            <button class="work__btn" :disabled="currentActiveEl === 'repairs'" @click="this.currentActiveEl = 'repairs'">
                <svg width="43" height="48" viewBox="0 0 43 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M36.5625 4.21875C36.5625 1.89258 34.6699 0 32.3438 0H4.21875C1.89258 0 0 1.89258 0 4.21875V12.6562C0 14.9824 1.89258 16.875 4.21875 16.875H32.3438C34.6699 16.875 36.5625 14.9824 36.5625 12.6562V11.25H37.9688C38.744 11.25 39.375 11.881 39.375 12.6562V18.2812C39.375 19.0565 38.744 19.6875 37.9688 19.6875H21.0938C18.7676 19.6875 16.875 21.5801 16.875 23.9062V28.125H15.4688C14.692 28.125 14.0625 28.7545 14.0625 29.5312V35.0797L12.6562 40.7955C11.7418 44.4529 14.5052 48 18.2812 48C22.0591 48 24.8196 44.4492 23.9077 40.8007L22.5 35.0797V29.5312C22.5 28.7545 21.8705 28.125 21.0938 28.125H19.6875V23.9062C19.6875 23.131 20.3185 22.5 21.0938 22.5H37.9688C40.2949 22.5 42.1875 20.6074 42.1875 18.2812V12.6562C42.1875 10.3301 40.2949 8.4375 37.9688 8.4375H36.5625V4.21875ZM19.6875 30.9375V33.8438H16.875V30.9375H19.6875ZM18.2812 45.1875C16.344 45.1875 14.9117 43.3693 15.386 41.4727L16.571 36.6562H19.9915L21.1776 41.4778C21.6486 43.3612 20.2255 45.1875 18.2812 45.1875ZM4.21875 2.8125H32.3438C33.119 2.8125 33.75 3.44348 33.75 4.21875V5.625H29.5312C28.1646 5.625 26.417 6.13696 24.3933 6.72949C21.6599 7.53003 18.5621 8.4375 15.4688 8.4375C12.4534 8.4375 10.3275 7.55676 8.45178 6.78003C7.0177 6.18604 5.66345 5.625 4.21875 5.625H2.8125V4.21875C2.8125 3.44348 3.44348 2.8125 4.21875 2.8125ZM33.75 12.6562C33.75 13.4315 33.119 14.0625 32.3438 14.0625H4.21875C3.44348 14.0625 2.8125 13.4315 2.8125 12.6562V8.4375H4.21875C5.10388 8.4375 6.10657 8.85278 7.37549 9.3783C9.38855 10.2122 11.8938 11.25 15.4688 11.25C18.9657 11.25 22.4132 10.24 25.184 9.42883C26.9242 8.91907 28.5681 8.4375 29.5312 8.4375H33.75V12.6562Z"
                        :fill="`${currentActiveEl === 'repairs' ? 'white' : '#FF5A30'}`" />
                </svg>
                <p>Repairs</p>
            </button>
            <button class="work__btn" :disabled="currentActiveEl === 'project'" @click="this.currentActiveEl = 'project'">
                <svg width="53" height="52" viewBox="0 0 53 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M46.4062 3.14844C44.1552 3.14844 42.1854 4.37521 41.1303 6.19531H2.02344C1.18209 6.19531 0.5 6.87741 0.5 7.71875V47.3281C0.5 48.1695 1.18209 48.8516 2.02344 48.8516H46.4062C49.7663 48.8516 52.5 46.1179 52.5 42.7578V9.24219C52.5 5.88209 49.7663 3.14844 46.4062 3.14844ZM46.4062 45.8047C45.8103 45.8047 4.1011 45.8047 3.54688 45.8047V9.24219H40.3125V42.7578C40.3125 43.5992 40.9946 44.2812 41.8359 44.2812C42.6773 44.2812 43.3594 43.5992 43.3594 42.7578C43.3594 41.0778 44.7262 39.7109 46.4062 39.7109C48.0863 39.7109 49.4531 41.0778 49.4531 42.7578C49.4531 44.4379 48.0863 45.8047 46.4062 45.8047ZM49.4531 37.4818C48.5563 36.9619 47.5153 36.6641 46.4062 36.6641C45.2972 36.6641 44.2562 36.9619 43.3594 37.4818V9.24219C43.3594 7.56214 44.7262 6.19531 46.4062 6.19531C48.0863 6.19531 49.4531 7.56214 49.4531 9.24219V37.4818Z"
                        :fill="`${currentActiveEl === 'project' ? 'white' : '#FF5A30'}`" />
                    <path
                        d="M35.6406 12.2891H8.21875C7.37741 12.2891 6.69531 12.9712 6.69531 13.8125V41.2344C6.69531 42.0757 7.37741 42.7578 8.21875 42.7578H23.4531C23.8572 42.7578 24.2446 42.5972 24.5303 42.3115C24.8161 42.0259 24.9766 41.6384 24.9766 41.2344V38.1875C24.9766 36.2013 26.2501 34.507 28.0234 33.8782V41.2344C28.0234 42.0757 28.7055 42.7578 29.5469 42.7578H35.6406C36.482 42.7578 37.1641 42.0757 37.1641 41.2344V13.8125C37.1641 12.9712 36.482 12.2891 35.6406 12.2891ZM34.1172 39.7109H31.0703V32.0938C31.0703 31.2524 30.3882 30.5703 29.5469 30.5703C25.3468 30.5703 21.9297 33.9874 21.9297 38.1875V39.7109H9.74219V30.5703H15.8359V35.1406C15.8359 35.982 16.518 36.6641 17.3594 36.6641C18.2007 36.6641 18.8828 35.982 18.8828 35.1406V29.0469C18.8828 28.2055 18.2007 27.5234 17.3594 27.5234H9.74219V15.3359H18.8828V21.4297H14.3125C13.4712 21.4297 12.7891 22.1118 12.7891 22.9531C12.7891 23.7945 13.4712 24.4766 14.3125 24.4766H20.4062H26.5C27.3413 24.4766 28.0234 23.7945 28.0234 22.9531C28.0234 22.1118 27.3413 21.4297 26.5 21.4297H21.9297V15.3359H34.1172V39.7109Z"
                        :fill="`${currentActiveEl === 'project' ? 'white' : '#FF5A30'}`" />
                </svg>
                <p>Project Development</p>
            </button>
            <button class="work__btn" :disabled="currentActiveEl === 'interior'" @click="this.currentActiveEl = 'interior'">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M9.9375 33.8438C7.61128 33.8438 5.71875 35.7363 5.71875 38.0625C5.71875 40.3887 7.61128 42.2812 9.9375 42.2812C12.2637 42.2812 14.1562 40.3887 14.1562 38.0625C14.1562 35.7363 12.2637 33.8438 9.9375 33.8438ZM9.9375 39.4688C9.16209 39.4688 8.53125 38.8379 8.53125 38.0625C8.53125 37.2871 9.16209 36.6562 9.9375 36.6562C10.7129 36.6562 11.3438 37.2871 11.3438 38.0625C11.3438 38.8379 10.7129 39.4688 9.9375 39.4688Z"
                        :fill="`${currentActiveEl === 'interior' ? 'white' : '#FF5A30'}`" />
                    <path
                        d="M45.4619 28.569C46.4212 27.2708 46.598 25.4603 45.7256 23.9496L40.1035 14.118C39.131 12.4335 37.0801 11.6648 35.2507 12.1538C35.6402 10.4029 34.8759 8.52441 33.2423 7.58119L23.5 1.95656C22.1087 1.15313 20.4451 1.23544 19.1657 2.02678C18.4242 0.812437 17.0865 0 15.5625 0H4.21875C1.89253 0 0 1.89253 0 4.21875C0 5.19422 0 42.6583 0 43.7812C0 46.1075 1.89253 48 4.21875 48C5.31122 48 38.4345 48 43.7812 48C46.1075 48 48 46.1075 48 43.7812V32.4375C48 30.7085 46.954 29.2197 45.4619 28.569ZM16.9688 43.7812C16.9688 44.5567 16.3379 45.1875 15.5625 45.1875H4.21875C3.44334 45.1875 2.8125 44.5567 2.8125 43.7812C2.8125 43.1388 2.8125 31.6483 2.8125 31.0312H16.9688V43.7812ZM16.9688 28.2188H2.8125V16.875H16.9688V28.2188ZM16.9688 14.0625H2.8125V4.21875C2.8125 3.44334 3.44334 2.8125 4.21875 2.8125H15.5625C16.3379 2.8125 16.9688 3.44334 16.9688 4.21875V14.0625ZM19.7812 5.5845L20.1723 4.90716C20.5602 4.23544 21.4222 4.00444 22.0938 4.39228L31.836 10.0169C32.5077 10.4047 32.7386 11.2667 32.3498 11.9403L30.7249 14.7647C30.6842 14.8248 30.6476 14.8872 30.6169 14.9524L19.7812 33.787V5.5845ZM19.7812 39.427L32.9271 16.5767L35.6452 15.0074C36.3342 14.6096 37.2793 14.8512 37.665 15.5192L43.2871 25.3507C43.676 26.0242 43.4492 26.8877 42.7688 27.2805C41.7645 27.8618 20.7702 40.0161 19.7812 40.5886V39.427ZM45.1875 43.7812C45.1875 44.5567 44.5567 45.1875 43.7812 45.1875H19.5394C19.6893 44.7647 19.7734 44.3113 19.7798 43.8393L41.9034 31.0312H43.7812C44.5567 31.0312 45.1875 31.6621 45.1875 32.4375V43.7812Z"
                        :fill="`${currentActiveEl === 'interior' ? 'white' : '#FF5A30'}`" />

                </svg>
                <p>Interior Design</p>
            </button>

        </nav>
        <div class="work__item-list" :style="{ 'max-height': `calc(470px * ${workListHeight})` }">
            <ItemEl v-for="(item, index) in massive" :key="index" :item="item" />
        </div>
        <button v-if="this.workListHeight < 3" class="work__show-more-btn" @click="this.workListHeight+=1">
            <span class="work__show-more-img" /> Show more
        </button>

    </section>
</template>

<script>
import ItemEl from '../items/ItemEl.vue';
import { itemList } from '@/utils/constans/itemList';

export default {
    name: "WorkList",
    data() {
        return { currentActiveEl: "construction", massive: itemList, workListHeight: 1 };
    },
    components: { ItemEl }
}
</script>
<style scoped lang="scss">
section {
    max-width: var(--max-width);
    margin: auto;
    position: relative;
    padding: 215px 0 100px;
}

nav {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    gap: 20px;
}

.work__btn {
    width: 230px;
    height: 154px;
    background-color: white;
    color: var(--col-main);
    border-radius: 5px;
    border: none;
    box-shadow: 0px 8px 15px 7px rgba(34, 60, 80, 0.2);
    cursor: pointer;
    transition: all 0.5s;

    &:hover {
        background-color: rgb(255, 212, 201);
        box-shadow: 0px 15px 20px 10px rgba(34, 60, 80, 0.2);
    }

    &:disabled {
        background-color: var(--col-main);
        color: white;
    }
}

.work__item-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 5px 30px;
    padding: 0;
    list-style: none;
    overflow: hidden;
    transition: max-height 0.5s 0.1s;
}

.work__show-more {
    &-btn {
        display: flex;
        margin: auto;
        background-color: var(--col-clear);
        padding: 5px 20px;
        border: none;
        cursor: pointer;
        transition: all .2s;
        &:active{
            transform: translateY(-10px);
        }
    }

    &-img {
        width: 18px;
        height: 18px;
        background-image: url(@/assets/arrow.svg);
        background-position: center;
        background-size: contain;
        background-repeat: no-repeat;
        transform: rotate(90deg);
        
    }
}
</style>